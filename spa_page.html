<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI, ê±´ì„¤ ì—…ë¬´ì˜ ì‹œê°„ì„ ë˜ëŒë ¤ ë“œë¦½ë‹ˆë‹¤! - ì»¤ë¦¬í˜ëŸ¼</title>
    <link rel="stylesheet" href="css/common_styles.css">
    <style>
        /* --- ë°ìŠ¤í¬íƒ‘ í–„ë²„ê±° ë²„íŠ¼ (ê³ ì • ê¸°ëŠ¥ìš©) --- */
        #desktop-pin-toggle-btn {
            display: none; /* JSë¡œ ë°ìŠ¤í¬íƒ‘ì¼ ë•Œë§Œ ë³´ì´ë„ë¡ ì œì–´ */
            position: fixed;
            top: 15px;
            left: 10px; /* ë„¤ë¹„ê²Œì´ì…˜ ë„ˆë¹„ ê³ ë ¤í•´ì„œ ì¡°ì • ê°€ëŠ¥ */
            z-index: 105; /* ë„¤ë¹„ê²Œì´ì…˜ë³´ë‹¤ ì•½ê°„ ë†’ê²Œ */
            background-color: var(--primary-color, #3155e2);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            font-size: 16px; /* ì•„ì´ì½˜ í¬ê¸° */
            line-height: 30px; /* ì•„ì´ì½˜ ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ */
            text-align: center;
            cursor: pointer;
            border-radius: 5px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            transition: left 0.3s cubic-bezier(0.25, 0.1, 0.25, 1); /* ë„¤ë¹„ê²Œì´ì…˜ í™•ì¥ì‹œ ë²„íŠ¼ ìœ„ì¹˜ ì´ë™ */
        }
        /* ë„¤ë¹„ê²Œì´ì…˜ ê³ ì • ìƒíƒœì¼ ë•Œ ë²„íŠ¼ ì•„ì´ì½˜ ë³€ê²½ (ì˜ˆì‹œ) */
        #desktop-pin-toggle-btn.pinned-icon::before {
            content: "ğŸ“Œ"; /* ê³ ì •ë˜ì—ˆì„ ë•Œ ì•„ì´ì½˜ (í•€ ëª¨ì–‘) */
        }
        #desktop-pin-toggle-btn:not(.pinned-icon)::before {
            content: "â˜°"; /* ê¸°ë³¸/ì—´ê¸° ì•„ì´ì½˜ (í–„ë²„ê±°) */
        }


        /* ë°ìŠ¤í¬íƒ‘ ë„¤ë¹„ê²Œì´ì…˜ ê³ ì • ìƒíƒœ */
        .page-navigation.pinned {
            width: var(--nav-expanded-width) !important; /* ê³ ì • ì‹œ ë„ˆë¹„ ê°•ì œ í™•ì¥ */
            opacity: 1 !important;
            overflow: visible !important;
            background-color: var(--nav-bg-expanded) !important;
            box-shadow: 5px 0 15px rgba(0,0,0,0.1) !important;
        }
        .page-navigation.pinned .nav-header,
        .page-navigation.pinned .nav-scroll-wrapper {
            opacity: 1 !important;
        }
        /* ê³ ì • ìƒíƒœì¼ ë•Œ ë°ìŠ¤í¬íƒ‘ í–„ë²„ê±° ë²„íŠ¼ ìœ„ì¹˜ (ë„¤ë¹„ê²Œì´ì…˜ í™•ì¥ ë„ˆë¹„ ê³ ë ¤) */
        /* .page-navigation.pinned + #desktop-pin-toggle-btn {  -- ì´ë ‡ê²Œ í•˜ë©´ ì•ˆë¨. body ì§ê³„ ìì‹ì´ë¯€ë¡œ */
        body.desktop-nav-pinned #desktop-pin-toggle-btn {
            left: calc(var(--nav-expanded-width) + 10px - var(--nav-collapsed-width) - 5px); /* ëŒ€ëµì ì¸ ìœ„ì¹˜, ì¡°ì • í•„ìš” */
        }


        /* --- ëª¨ë°”ì¼ ì „ìš© ìŠ¤íƒ€ì¼ --- */
        @media (max-width: 768px) {
            /* ë°ìŠ¤í¬íƒ‘ ë„¤ë¹„ê²Œì´ì…˜ ìˆ¨ê¸°ê¸° ë˜ëŠ” ë¹„í™œì„±í™” (ëª¨ë°”ì¼ì—ì„œ) */
            .page-navigation {
                pointer-events: none !important;
                opacity: 0 !important;
                width: 0 !important;
                border-right: none !important;
            }
            #desktop-pin-toggle-btn { /* ë°ìŠ¤í¬íƒ‘ í•€ ë²„íŠ¼ë„ ëª¨ë°”ì¼ì—ì„  ìˆ¨ê¹€ */
                display: none !important;
            }

            #mobile-hamburger-btn {
                display: block; position: fixed; top: 15px; left: 15px; z-index: 1002;
                background-color: var(--primary-color, #3155e2); color: white; border: none;
                padding: 8px 12px; font-size: 20px; cursor: pointer; border-radius: 5px;
                box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            }

            #mobile-sidebar-container {
                position: fixed; top: 0; left: 0; width: 280px; height: 100vh;
                background-color: var(--nav-bg-expanded, #fff); z-index: 1001;
                transform: translateX(-100%); transition: transform 0.3s ease-in-out;
                overflow-y: auto; box-shadow: 2px 0 5px rgba(0,0,0,0.1);
                padding-top: 50px;
            }
            #mobile-sidebar-container.open {
                transform: translateX(0);
            }

            #mobile-sidebar-close-btn {
                position: absolute; top: 15px; right: 15px; font-size: 24px;
                background: none; border: none; color: var(--primary-color, #3155e2);
                cursor: pointer;
            }

            #mobile-sidebar-container .nav-header,
            #mobile-sidebar-container .nav-scroll-wrapper {
                opacity: 1 !important; width: 100% !important;
            }
            #mobile-sidebar-container .nav-header { padding-top: 10px; border-bottom: 1px solid var(--border-color, #eaeaea); }
            #mobile-sidebar-container .nav-scroll-wrapper { padding: 15px 0; }
            /* ëª¨ë°”ì¼ì—ì„œ í˜„ì¬ í˜ì´ì§€ í‘œì‹œ */
            #mobile-sidebar-container .nav-section-item.current-page a {
                background-color: var(--nav-active-bg, #3155e2) !important; /* common_styles.css ì™€ ì¶©ëŒ ë°©ì§€ */
                color: var(--nav-active-text, #fff) !important;
                font-weight: 600;
                border-radius: 4px;
            }


            #mobile-overlay {
                display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background-color: rgba(0,0,0,0.5); z-index: 1000;
            }
            #mobile-overlay.active { display: block; }

            .main-content-area {
                padding-top: 60px !important; padding-bottom: 80px !important;
            }

            #page-navigation-buttons {
                display: none; position: fixed; bottom: 0; left: 0; width: 100%;
                padding: 10px 15px; background-color: rgba(250, 250, 250, 0.95);
                box-shadow: 0 -2px 8px rgba(0,0,0,0.1); z-index: 999;
                justify-content: space-between; align-items: center;
                backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);
            }
            #page-navigation-buttons button {
                padding: 10px 15px; font-size: 0.9em; font-weight: 500;
                background-color: var(--primary-color, #3155e2); color: white; border: none;
                border-radius: 5px; cursor: pointer; transition: background-color 0.2s ease;
                min-width: 70px; text-align: center;
            }
            #page-navigation-buttons button:hover:not(:disabled) { background-color: #2a49c7; }
            #page-navigation-buttons button:disabled { background-color: #ccc; color: #777; cursor: not-allowed; opacity: 0.7; }
        }

        /* ë°ìŠ¤í¬íƒ‘ì—ì„œëŠ” ëª¨ë°”ì¼ UI ìš”ì†Œ ìˆ¨ê¹€ (min-width: 769px) */
        @media (min-width: 769px) {
            #mobile-hamburger-btn,
            #mobile-sidebar-container,
            #mobile-overlay,
            #page-navigation-buttons {
                display: none !important;
            }
            /* ë°ìŠ¤í¬íƒ‘ ë„¤ë¹„ê²Œì´ì…˜ ì›ìƒ ë³µêµ¬ (ëª¨ë°”ì¼ @mediaì—ì„œ ë³€ê²½ëœ ë¶€ë¶„) */
            .page-navigation {
                pointer-events: auto !important;
                opacity: 0.7 !important; /* common_styles.css ê°’ìœ¼ë¡œ */
                width: var(--nav-collapsed-width) !important; /* common_styles.css ê°’ìœ¼ë¡œ */
                border-right: 1px solid var(--border-color, #eaeaea) !important;
            }
            /* .page-navigation.pinned ìƒíƒœëŠ” ì´ ê·œì¹™ë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ì•„ì ¸ì•¼ í•¨ (CSS Specificity) */
            /* ë˜ëŠ” JSì—ì„œ .pinned ì‹œ width ì§ì ‘ ì„¤ì • */

            .main-content-area {
                padding-top: 30px !important;
                padding-bottom: 30px !important;
            }
            #desktop-pin-toggle-btn { /* ë°ìŠ¤í¬íƒ‘ í•€ ë²„íŠ¼ì€ ë°ìŠ¤í¬íƒ‘ì—ì„œ ë³´ì„ */
                display: block;
            }
        }
    </style>
</head>
<body>
    <!-- ë°ìŠ¤í¬íƒ‘ìš© ë„¤ë¹„ê²Œì´ì…˜ (ê¸°ì¡´ HTML ê·¸ëŒ€ë¡œ ì‚¬ìš©) -->
    <nav class="page-navigation" id="pageNav">
        <!-- (ë‚´ìš©ì€ ì´ì „ê³¼ ë™ì¼) -->
        <div class="nav-header">ì»¤ë¦¬í˜ëŸ¼</div>
        <div class="nav-scroll-wrapper">
            <ul class="nav-curriculum-list">
                <li class="nav-module-group">
                    <div class="nav-module-title-wrapper" data-module-id="module1">
                        <span class="nav-module-title">Module 1: ì™œ AIì¸ê°€? ë°˜ë³µ ì—…ë¬´ í•´ë°©ì˜ ì‹œì‘</span>
                        <span class="nav-toggle-icon">></span>
                    </div>
                    <ul class="nav-section-list">
                        <li class="nav-section-item"><a href="#" data-src="module1_section1.html">1. ì˜¤í”„ë‹: AIë¡œ ë‹¹ì‹ ì˜ ì—…ë¬´ ì‹œê°„ì„ ë˜ì°¾ìœ¼ì„¸ìš”!</a></li>
                        <li class="nav-section-item"><a href="#" data-src="module1_section2.html">2. ë‹¹ì‹ ì˜ í•˜ë£¨, í˜¹ì‹œ ì´ë ‡ì§€ ì•Šë‚˜ìš”? (ì—…ë¬´ Pain Points)</a></li>
                        <li class="nav-section-item"><a href="#" data-src="module1_section3.html">3. AI: ë‹¹ì‹ ì˜ ë˜‘ë˜‘í•œ ì—…ë¬´ ë¹„ì„œ (ìƒì„±í˜• AIë€?)</a></li>
                    </ul>
                </li>
                <li class="nav-module-group">
                    <div class="nav-module-title-wrapper" data-module-id="module2">
                        <span class="nav-module-title">Module 2: AIì™€ ì œëŒ€ë¡œ ì†Œí†µí•˜ê¸° (ft. í•µì‹¬ ë„êµ¬)</span>
                        <span class="nav-toggle-icon">></span>
                    </div>
                    <ul class="nav-section-list">
                        <li class="nav-section-item"><a href="#" data-src="module2_section1.html">1. AIì˜ ëŠ¥ë ¥ì„ 100% ëŒì–´ë‚´ëŠ” 'í”„ë¡¬í”„íŠ¸' ì‘ì„±ë²•</a></li>
                        <li class="nav-section-item"><a href="#" data-src="module2_section2.html">2. AI íŠ¹ê³µëŒ€, ì§ì ‘ ë‹¤ë¤„ë³´ê¸° (ì£¼ìš” ë„êµ¬ ì‹œì—°)</a></li>
                    </ul>
                </li>
                <li class="nav-module-group">
                    <div class="nav-module-title-wrapper" data-module-id="module3">
                        <span class="nav-module-title">Module 3: ì‹¤ì „! AIë¡œ ì—…ë¬´ íš¨ìœ¨ 2ë°° UP! (ì‹œì—° ì¤‘ì‹¬)</span>
                        <span class="nav-toggle-icon">></span>
                    </div>
                    <ul class="nav-section-list">
                         <li class="nav-section-item"><a href="#" data-src="module3_section1.html">1. ì •ë³´ ê²€ìƒ‰ & ìˆ˜ì§‘: AIë¡œ 10ë¶„ ë§Œì— ëë‚´ê¸°!</a></li>
                         <li class="nav-section-item"><a href="#" data-src="module3_section2.html">2. ë‚´ ì†ì•ˆì˜ ìë£Œ, AIë¡œ ì§€ì‹ ìì‚° ë§Œë“¤ê¸° (NotebookLM í™œìš©)</a></li>
                         <li class="nav-section-item"><a href="#" data-src="module3_section3.html">3. íšŒì˜ë¡ ì •ë¦¬: AIë¡œ 5ë¶„ ë§Œì— í•µì‹¬ë§Œ ì™!</a></li>
                         <li class="nav-section-item"><a href="#" data-src="module3_section4.html">4. ë³´ê³ ì„œÂ·ê¸°íšì„œ ì‘ì„±: AIë¡œ ì‹œê°„ ì ˆë°˜ìœ¼ë¡œ ì¤„ì´ê¸°!</a></li>
                    </ul>
                </li>
                <li class="nav-module-group">
                    <div class="nav-module-title-wrapper" data-module-id="module4">
                        <span class="nav-module-title">Module 4: AI, ì•ˆì „í•˜ê³  ë˜‘ë˜‘í•˜ê²Œ í™œìš©í•˜ê¸°</span>
                        <span class="nav-toggle-icon">></span>
                    </div>
                    <ul class="nav-section-list">
                        <li class="nav-section-item"><a href="#" data-src="module4_section1.html">1. AI, ì•ˆì „í•˜ê²Œ ì¨ì•¼ ì§„ì§œ ì „ë¬¸ê°€! (í•µì‹¬ ì£¼ì˜ì‚¬í•­)</a></li>
                        <li class="nav-section-item"><a href="#" data-src="module4_section2.html">2. (ë§›ë³´ê¸°) AIë¡œ ë‚´ ì—…ë¬´ ìë™í™”í•˜ê¸° ì•„ì´ë””ì–´</a></li>
                        <li class="nav-section-item"><a href="#" data-src="module4_section3.html">3. ë§ˆë¬´ë¦¬: AI ì‹œëŒ€, ë‹¹ì‹ ì˜ ì—…ë¬´ëŠ” ì–´ë–»ê²Œ ë°”ë€”ê¹Œìš”?</a></li>
                    </ul>
                </li>
            </ul>
            <div class="nav-mainpage-link-wrapper">
                <a href="index.html" class="nav-mainpage-link">ë©”ì¸ í˜ì´ì§€</a>
            </div>
        </div>
    </nav>

    <main class="main-content-area" id="mainContent">
        <article id="contentDisplay">
            <h1>í™˜ì˜í•©ë‹ˆë‹¤!</h1>
            <p>ì™¼ìª½ ë©”ë‰´ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ ì „ì²´ ëª©ì°¨ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤. í•™ìŠµí•  ë‚´ìš©ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
        </article>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const desktopNav = document.getElementById('pageNav');
            const desktopNavModuleTitles = desktopNav.querySelectorAll('.nav-module-title-wrapper');
            const desktopNavSectionLinks = desktopNav.querySelectorAll('.nav-section-item a');

            const contentDisplay = document.getElementById('contentDisplay');
            const mainContentArea = document.getElementById('mainContent');
            const sectionListPadding = 8;
            let currentActiveLinkElement = null; // í•­ìƒ ë°ìŠ¤í¬íƒ‘ ë„¤ë¹„ê²Œì´ì…˜ì˜ ë§í¬ ê¸°ì¤€
            let currentScrollListener = null;
            let currentModuleStyleLink = null;
            let isMobile = window.innerWidth <= 768;
            let isDesktopNavPinned = false; // ë°ìŠ¤í¬íƒ‘ ë„¤ë¹„ê²Œì´ì…˜ ê³ ì • ìƒíƒœ

            // --- UI ìš”ì†Œ ë™ì  ìƒì„± ---
            const desktopPinToggleBtn = document.createElement('button');
            desktopPinToggleBtn.id = 'desktop-pin-toggle-btn';
            // ì•„ì´ì½˜ì€ CSS ê°€ìƒìš”ì†Œë¡œ ì²˜ë¦¬
            document.body.appendChild(desktopPinToggleBtn);

            const mobileHamburgerBtn = document.createElement('button');
            mobileHamburgerBtn.id = 'mobile-hamburger-btn';
            mobileHamburgerBtn.innerHTML = 'â˜°';
            document.body.appendChild(mobileHamburgerBtn);

            const mobileSidebarContainer = document.createElement('div');
            mobileSidebarContainer.id = 'mobile-sidebar-container';
            document.body.appendChild(mobileSidebarContainer);

            const mobileSidebarCloseBtn = document.createElement('button');
            mobileSidebarCloseBtn.id = 'mobile-sidebar-close-btn';
            mobileSidebarCloseBtn.innerHTML = 'Ã—';
            mobileSidebarContainer.appendChild(mobileSidebarCloseBtn);

            const mobileOverlay = document.createElement('div');
            mobileOverlay.id = 'mobile-overlay';
            document.body.appendChild(mobileOverlay);

            const pageNavButtonsContainer = document.createElement('div');
            pageNavButtonsContainer.id = 'page-navigation-buttons';
            const prevSectionBtn = document.createElement('button');
            prevSectionBtn.id = 'prev-section-button'; prevSectionBtn.textContent = 'ì´ì „';
            const nextSectionBtn = document.createElement('button');
            nextSectionBtn.id = 'next-section-button'; nextSectionBtn.textContent = 'ë‹¤ìŒ';
            pageNavButtonsContainer.appendChild(prevSectionBtn); pageNavButtonsContainer.appendChild(nextSectionBtn);
            document.body.appendChild(pageNavButtonsContainer);

            // --- ëª¨ë°”ì¼ ì‚¬ì´ë“œë°” ë‚´ìš© ë³µì œ ë° ì´ë²¤íŠ¸ ì„¤ì • ---
            function initializeMobileSidebar() {
                const desktopNavHeader = desktopNav.querySelector('.nav-header');
                const desktopNavScrollWrapper = desktopNav.querySelector('.nav-scroll-wrapper');
                if (desktopNavHeader) mobileSidebarContainer.appendChild(desktopNavHeader.cloneNode(true));
                if (desktopNavScrollWrapper) mobileSidebarContainer.appendChild(desktopNavScrollWrapper.cloneNode(true));
                setupMobileSidebarInteractions();
            }

            function setupMobileSidebarInteractions() {
                const mobileNavModuleTitles = mobileSidebarContainer.querySelectorAll('.nav-module-title-wrapper');
                const mobileNavSectionLinks = mobileSidebarContainer.querySelectorAll('.nav-section-item a');

                mobileNavModuleTitles.forEach(titleWrapper => { /* ... (ì•„ì½”ë””ì–¸ ë¡œì§ - ì´ì „ê³¼ ë™ì¼) ... */
                    titleWrapper.addEventListener('click', function () {
                        const isActive = this.classList.contains('active');
                        const sectionList = this.nextElementSibling;
                        if (!isActive) {
                            mobileNavModuleTitles.forEach(otherHeader => {
                                if (otherHeader !== this && otherHeader.classList.contains('active')) {
                                    otherHeader.classList.remove('active');
                                    const otherList = otherHeader.nextElementSibling;
                                    if (otherList && otherList.classList.contains('nav-section-list')) {
                                        otherList.style.maxHeight = null; otherList.style.paddingTop = "0px"; otherList.style.paddingBottom = "0px";
                                    } } }); }
                        this.classList.toggle('active');
                        if (sectionList && sectionList.classList.contains('nav-section-list')) {
                            if (this.classList.contains('active')) {
                                sectionList.style.paddingTop = sectionListPadding + "px"; sectionList.style.paddingBottom = sectionListPadding + "px";
                                sectionList.style.maxHeight = (sectionList.scrollHeight + sectionListPadding * 2) + "px";
                            } else {
                                sectionList.style.maxHeight = null; sectionList.style.paddingTop = "0px"; sectionList.style.paddingBottom = "0px";
                            } } }); });

                mobileNavSectionLinks.forEach(link => { /* ... (ë§í¬ í´ë¦­ ë¡œì§ - ì´ì „ê³¼ ë™ì¼, currentActiveLinkElement ì—…ë°ì´íŠ¸ ì£¼ì˜) ... */
                    link.addEventListener('click', function (event) {
                        event.preventDefault();
                        const filePath = this.dataset.src;
                        const originalLink = Array.from(desktopNavSectionLinks).find(dLink => dLink.dataset.src === filePath);
                        if (originalLink) {
                            loadAndDisplayContent(filePath, originalLink);
                            // ëª¨ë°”ì¼ì—ì„œë„ í˜„ì¬ í˜ì´ì§€ í‘œì‹œ (ìŠ¤íƒ€ì¼ì€ CSSë¡œ)
                            mobileNavSectionLinks.forEach(ml => ml.parentElement.classList.remove('current-page'));
                            this.parentElement.classList.add('current-page');
                        }
                        toggleMobileSidebar(false);
                    }); });
            }

            // --- ë·° ëª¨ë“œ ë° UI ìƒíƒœ ì—…ë°ì´íŠ¸ ---
            function updateUIBasedOnMode() {
                isMobile = window.innerWidth <= 768;
                if (isMobile) {
                    desktopPinToggleBtn.style.display = 'none';
                    mobileHamburgerBtn.style.display = 'block';
                    pageNavButtonsContainer.style.display = 'flex'; // ëª¨ë°”ì¼ì—ì„œ ì´ì „/ë‹¤ìŒ ë²„íŠ¼ ë³´ì´ê¸°
                    desktopNav.classList.remove('pinned'); // ëª¨ë°”ì¼ì—ì„œëŠ” ê³ ì • í•´ì œ
                    document.body.classList.remove('desktop-nav-pinned');
                    // CSSì—ì„œ .page-navigationì€ ì´ë¯¸ ëª¨ë°”ì¼ì—ì„œ ìˆ¨ê²¨ì§
                } else { // ë°ìŠ¤í¬íƒ‘
                    desktopPinToggleBtn.style.display = 'block';
                    mobileHamburgerBtn.style.display = 'none';
                    mobileSidebarContainer.classList.remove('open');
                    mobileOverlay.classList.remove('active');
                    pageNavButtonsContainer.style.display = 'none'; // ë°ìŠ¤í¬íƒ‘ì—ì„œ ì´ì „/ë‹¤ìŒ ë²„íŠ¼ ìˆ¨ê¸°ê¸°

                    // ë°ìŠ¤í¬íƒ‘ ë„¤ë¹„ê²Œì´ì…˜ ìƒíƒœ ì—…ë°ì´íŠ¸ (ê³ ì • ì—¬ë¶€)
                    if (isDesktopNavPinned) {
                        desktopNav.classList.add('pinned');
                        desktopPinToggleBtn.classList.add('pinned-icon');
                        desktopPinToggleBtn.setAttribute('aria-label', 'ë„¤ë¹„ê²Œì´ì…˜ ê³ ì • í•´ì œ');
                        document.body.classList.add('desktop-nav-pinned');
                    } else {
                        desktopNav.classList.remove('pinned');
                        desktopPinToggleBtn.classList.remove('pinned-icon');
                        desktopPinToggleBtn.setAttribute('aria-label', 'ë„¤ë¹„ê²Œì´ì…˜ ê³ ì •');
                         document.body.classList.remove('desktop-nav-pinned');
                    }
                }
                updatePageNavigationButtons(); // ì´ì „/ë‹¤ìŒ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            }

            // --- ëª¨ë°”ì¼ ì‚¬ì´ë“œë°” í† ê¸€ ---
            function toggleMobileSidebar(show) { /* ... (ì´ì „ê³¼ ë™ì¼) ... */
                if (show) {
                    mobileSidebarContainer.classList.add('open'); mobileOverlay.classList.add('active');
                } else {
                    mobileSidebarContainer.classList.remove('open'); mobileOverlay.classList.remove('active');
                }
            }
            mobileHamburgerBtn.addEventListener('click', () => toggleMobileSidebar(true));
            mobileOverlay.addEventListener('click', () => toggleMobileSidebar(false));
            mobileSidebarCloseBtn.addEventListener('click', () => toggleMobileSidebar(false));


            // --- ë°ìŠ¤í¬íƒ‘ ë„¤ë¹„ê²Œì´ì…˜ ê³ ì • í† ê¸€ ---
            desktopPinToggleBtn.addEventListener('click', function() {
                if (isMobile) return; // ëª¨ë°”ì¼ì—ì„  ì´ ë²„íŠ¼ ì‚¬ìš© ì•ˆí•¨
                isDesktopNavPinned = !isDesktopNavPinned;
                updateUIBasedOnMode(); // UI ìƒíƒœ ì—…ë°ì´íŠ¸ (pinned í´ë˜ìŠ¤ ë“±)
            });

            // --- ë°ìŠ¤í¬íƒ‘ ë„¤ë¹„ê²Œì´ì…˜ ì•„ì½”ë””ì–¸ (ê¸°ì¡´ ë¡œì§) ---
            desktopNavModuleTitles.forEach(titleWrapper => { /* ... (ì´ì „ê³¼ ë™ì¼, isMobile ì²´í¬ ì¶”ê°€) ... */
                titleWrapper.addEventListener('click', function () {
                    if (isMobile) return; // ëª¨ë°”ì¼ì´ë©´ ë°ìŠ¤í¬íƒ‘ ì•„ì½”ë””ì–¸ ë™ì‘ ì•ˆí•¨
                    const isActive = this.classList.contains('active');
                    const sectionList = this.nextElementSibling;
                    if (!isActive) { /* ... (ë‹¤ë¥¸ ëª¨ë“ˆ ë‹«ê¸°) ... */
                         desktopNavModuleTitles.forEach(otherHeader => {
                            if (otherHeader !== this && otherHeader.classList.contains('active')) {
                                otherHeader.classList.remove('active');
                                const otherList = otherHeader.nextElementSibling;
                                if (otherList && otherList.classList.contains('nav-section-list')) {
                                    otherList.style.maxHeight = null; otherList.style.paddingTop = "0px"; otherList.style.paddingBottom = "0px";
                                } } });
                    }
                    this.classList.toggle('active');
                    if (sectionList && sectionList.classList.contains('nav-section-list')) {
                        if (this.classList.contains('active')) { /* ... (ì„¹ì…˜ ì—´ê¸°) ... */
                            sectionList.style.paddingTop = sectionListPadding + "px"; sectionList.style.paddingBottom = sectionListPadding + "px";
                            sectionList.style.maxHeight = (sectionList.scrollHeight + sectionListPadding * 2) + "px";
                        } else { /* ... (ì„¹ì…˜ ë‹«ê¸°) ... */
                             sectionList.style.maxHeight = null; sectionList.style.paddingTop = "0px"; sectionList.style.paddingBottom = "0px";
                        } } }); });

            // --- ë°ìŠ¤í¬íƒ‘ ë„¤ë¹„ê²Œì´ì…˜ ë§í¬ í´ë¦­ (ê¸°ì¡´ ë¡œì§) ---
            desktopNavSectionLinks.forEach(link => { /* ... (ì´ì „ê³¼ ë™ì¼, isMobile ì²´í¬ ì¶”ê°€) ... */
                 link.addEventListener('click', function (event) {
                    event.preventDefault();
                    // ëª¨ë°”ì¼ì—ì„œëŠ” ì´ ë§í¬ ì§ì ‘ í´ë¦­ì„ ë§‰ê³  ëª¨ë°”ì¼ ì‚¬ì´ë“œë°” ì‚¬ìš© ìœ ë„ (CSSì—ì„œ pointer-events:none ì²˜ë¦¬)
                    // JSì—ì„œëŠ” í˜¹ì‹œ ëª¨ë¥¼ ê²½ìš° ëŒ€ë¹„
                    if (isMobile && event.target.closest('#pageNav')) return;

                    loadAndDisplayContent(this.dataset.src, this);
                }); });


            // --- ì½˜í…ì¸  ë¡œë“œ í•¨ìˆ˜ (currentActiveLinkElementëŠ” í•­ìƒ ë°ìŠ¤í¬íƒ‘ ë§í¬) ---
            async function loadAndDisplayContent(filePath, linkElementToHighlight) { /* ... (ì´ì „ê³¼ ë™ì¼) ... */
                if (currentActiveLinkElement) currentActiveLinkElement.parentElement.classList.remove('current-page');
                linkElementToHighlight.parentElement.classList.add('current-page');
                currentActiveLinkElement = linkElementToHighlight;
                const newHash = filePath.split('.')[0];
                if(window.location.hash !== `#${newHash}`) history.replaceState(null, null, `#${newHash}`);
                contentDisplay.classList.remove('loaded'); contentDisplay.style.opacity = '0';
                contentDisplay.innerHTML = '<p style="text-align:center; padding: 20px;">ë¡œë”© ì¤‘...</p>';
                contentDisplay.dataset.loadedFile = filePath;
                if (currentModuleStyleLink) currentModuleStyleLink.remove(); currentModuleStyleLink = null;
                const moduleMatch = filePath.match(/module(\d+)_section(\w+)\.html/);
                if (moduleMatch && moduleMatch[1]) {
                    const moduleNumber = moduleMatch[1], sectionIdentifier = moduleMatch[2];
                    const moduleStyleHref = `css/module${moduleNumber}_section${sectionIdentifier}_styles.css`;
                    const newStyleLink = document.createElement('link');
                    newStyleLink.rel = 'stylesheet'; newStyleLink.type = 'text/css'; newStyleLink.href = moduleStyleHref;
                    newStyleLink.setAttribute('data-module-style', `module${moduleNumber}_section${sectionIdentifier}`);
                    document.head.appendChild(newStyleLink); currentModuleStyleLink = newStyleLink;
                }
                if (currentScrollListener) mainContentArea.removeEventListener('scroll', currentScrollListener); currentScrollListener = null;
                try {
                    const response = await fetch(filePath);
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status} for ${filePath}`);
                    contentDisplay.innerHTML = await response.text();
                    const loadedSlideContainer = contentDisplay.querySelector('.slide-container');
                    if (loadedSlideContainer) {
                        currentScrollListener = initializeSlidesForCurrentPage(loadedSlideContainer, mainContentArea, filePath);
                        if (currentScrollListener) { mainContentArea.addEventListener('scroll', currentScrollListener); currentScrollListener(); }
                    }
                } catch (error) {
                    console.error('Error loading content:', error);
                    contentDisplay.innerHTML = `<div style="padding:20px; text-align:center; color:red;"><h2>ì˜¤ë¥˜ ë°œìƒ</h2><p>ì½˜í…ì¸ ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p><p>${error.message}</p><p>íŒŒì¼ ê²½ë¡œ(${filePath})ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.</p></div>`;
                } finally {
                    setTimeout(() => { contentDisplay.style.opacity = '1'; contentDisplay.classList.add('loaded'); }, 50);
                    mainContentArea.scrollTop = 0;
                    updatePageNavigationButtons();
                    // ëª¨ë°”ì¼ ì‚¬ì´ë“œë°”ì—ë„ í˜„ì¬ í˜ì´ì§€ í‘œì‹œ ì—…ë°ì´íŠ¸
                    if (isMobile) {
                        const mobileLinks = mobileSidebarContainer.querySelectorAll('.nav-section-item a');
                        mobileLinks.forEach(ml => ml.parentElement.classList.remove('current-page'));
                        const activeMobileLink = Array.from(mobileLinks).find(ml => ml.dataset.src === filePath);
                        if (activeMobileLink) activeMobileLink.parentElement.classList.add('current-page');
                    }
                }
            }
            function initializeSlidesForCurrentPage(container, scroller, filePath) { /* ... (ì´ì „ê³¼ ë™ì¼) ... */
                const slides = container.querySelectorAll('.slide'); if (slides.length === 0) return null;
                const checkSlidesInView = function() {
                    slides.forEach(slide => {
                        const slideRect = slide.getBoundingClientRect(), scrollerRect = scroller.getBoundingClientRect();
                        const slideTopInScroller = slideRect.top - scrollerRect.top, scrollerHeight = scroller.clientHeight;
                        if (slideTopInScroller < scrollerHeight * 0.85 && (slideTopInScroller + slide.offsetHeight) > scrollerHeight * 0.15) {
                            slide.classList.add('active');
                        } }); }; return checkSlidesInView;
            }

            // --- URL í•´ì‹œ ë° ì´ˆê¸° ë¡œë“œ (ë°ìŠ¤í¬íƒ‘ ë§í¬ ê¸°ì¤€, ì•„ì½”ë””ì–¸ì€ ê° ëª¨ë“œì— ë§ê²Œ) ---
            function activateParentModuleOfLink(linkElement) { // linkElementëŠ” desktopNavì˜ ë§í¬
                const parentModuleTitleWrapperDesktop = linkElement.closest('.nav-module-group').querySelector('.nav-module-title-wrapper');
                if (!parentModuleTitleWrapperDesktop) return;

                const moduleId = parentModuleTitleWrapperDesktop.dataset.moduleId;

                // ë°ìŠ¤í¬íƒ‘ ì•„ì½”ë””ì–¸ ì²˜ë¦¬
                if (!isMobile && !parentModuleTitleWrapperDesktop.classList.contains('active')) {
                    desktopNavModuleTitles.forEach(otherHeader => {
                        if (otherHeader !== parentModuleTitleWrapperDesktop && otherHeader.classList.contains('active')) {
                            otherHeader.classList.remove('active');
                            const otherList = otherHeader.nextElementSibling;
                            if (otherList) { otherList.style.maxHeight = null; otherList.style.paddingTop = "0px"; otherList.style.paddingBottom = "0px"; }
                        }
                    });
                    parentModuleTitleWrapperDesktop.classList.add('active');
                    const sectionListToOpenDesktop = parentModuleTitleWrapperDesktop.nextElementSibling;
                    if (sectionListToOpenDesktop) {
                        sectionListToOpenDesktop.style.paddingTop = sectionListPadding + "px"; sectionListToOpenDesktop.style.paddingBottom = sectionListPadding + "px";
                        sectionListToOpenDesktop.style.maxHeight = (sectionListToOpenDesktop.scrollHeight + sectionListPadding * 2) + "px";
                    }
                }
                // ëª¨ë°”ì¼ ì•„ì½”ë””ì–¸ ì²˜ë¦¬
                if (isMobile) {
                    const mobileNavModuleTitles = mobileSidebarContainer.querySelectorAll('.nav-module-title-wrapper');
                    const parentModuleTitleMobile = Array.from(mobileNavModuleTitles).find(mTitle => mTitle.dataset.moduleId === moduleId);
                    if (parentModuleTitleMobile && !parentModuleTitleMobile.classList.contains('active')) {
                        mobileNavModuleTitles.forEach(otherHeader => {
                            if (otherHeader !== parentModuleTitleMobile && otherHeader.classList.contains('active')) {
                                otherHeader.classList.remove('active');
                                const otherList = otherHeader.nextElementSibling;
                                if (otherList) { otherList.style.maxHeight = null; otherList.style.paddingTop = "0px"; otherList.style.paddingBottom = "0px"; }
                            }
                        });
                        parentModuleTitleMobile.classList.add('active');
                        const sectionListToOpenMobile = parentModuleTitleMobile.nextElementSibling;
                        if (sectionListToOpenMobile) {
                            sectionListToOpenMobile.style.paddingTop = sectionListPadding + "px"; sectionListToOpenMobile.style.paddingBottom = sectionListPadding + "px";
                            sectionListToOpenMobile.style.maxHeight = (sectionListToOpenMobile.scrollHeight + sectionListPadding * 2) + "px";
                        }
                    }
                }
            }
            function loadContentFromHash() { /* ... (ì´ì „ê³¼ ë™ì¼, desktopNavSectionLinks ì‚¬ìš©) ... */
                const hash = window.location.hash.substring(1);
                if (hash) {
                    const targetLink = Array.from(desktopNavSectionLinks).find(link => link.dataset.src.split('.')[0] === hash);
                    if (targetLink) { loadAndDisplayContent(targetLink.dataset.src, targetLink); activateParentModuleOfLink(targetLink); }
                    else { loadInitialContent(); }
                } else { loadInitialContent(); }
            }
            function loadInitialContent() { /* ... (ì´ì „ê³¼ ë™ì¼, desktopNav.querySelector ì‚¬ìš©) ... */
                const firstValidLink = desktopNav.querySelector('.nav-section-item a[data-src]');
                if (firstValidLink) { loadAndDisplayContent(firstValidLink.dataset.src, firstValidLink); activateParentModuleOfLink(firstValidLink); }
                else {
                    contentDisplay.innerHTML = '<h1>í™˜ì˜í•©ë‹ˆë‹¤!</h1><p>í•™ìŠµí•  ë‚´ìš©ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</p>';
                    contentDisplay.classList.add('loaded'); updatePageNavigationButtons();
                }
            }
            function updatePageNavigationButtons() { /* ... (ì´ì „ê³¼ ë™ì¼, desktopNavSectionLinks ì‚¬ìš©) ... */
                if (!isMobile || !currentActiveLinkElement) {
                    pageNavButtonsContainer.style.display = 'none'; return;
                }
                pageNavButtonsContainer.style.display = 'flex';
                const allDesktopLinksArray = Array.from(desktopNavSectionLinks);
                const currentIndex = allDesktopLinksArray.findIndex(link => link === currentActiveLinkElement);
                prevSectionBtn.disabled = !(currentIndex > 0);
                prevSectionBtn.onclick = (currentIndex > 0) ? () => {
                    const prevLink = allDesktopLinksArray[currentIndex - 1];
                    loadAndDisplayContent(prevLink.dataset.src, prevLink); activateParentModuleOfLink(prevLink);
                } : null;
                nextSectionBtn.disabled = !(currentIndex >= 0 && currentIndex < allDesktopLinksArray.length - 1);
                nextSectionBtn.onclick = (currentIndex >= 0 && currentIndex < allDesktopLinksArray.length - 1) ? () => {
                    const nextLink = allDesktopLinksArray[currentIndex + 1];
                    loadAndDisplayContent(nextLink.dataset.src, nextLink); activateParentModuleOfLink(nextLink);
                } : null;
            }

            // --- ì´ˆê¸°í™” ---
            initializeMobileSidebar();
            updateUIBasedOnMode(); // ì´ˆê¸° UI ìƒíƒœ ì„¤ì •
            window.addEventListener('resize', updateUIBasedOnMode);
            loadContentFromHash();
            window.addEventListener('hashchange', loadContentFromHash);
        });
    </script>
</body>
</html>
