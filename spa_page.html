<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI, ê±´ì„¤ ì—…ë¬´ì˜ ì‹œê°„ì„ ë˜ëŒë ¤ ë“œë¦½ë‹ˆë‹¤! - í•™ìŠµ í˜ì´ì§€</title> <!-- SPA í˜ì´ì§€ íƒ€ì´í‹€ ë³€ê²½ -->
    <link rel="stylesheet" href="css/common_styles.css">
    <style>
        /* --- ì œê³µí•´ì£¼ì‹  spa_page.htmlì˜ <style> ë‚´ìš© ê·¸ëŒ€ë¡œ ìœ ì§€ --- */
        /* (ë°ìŠ¤í¬íƒ‘ í•€ ë²„íŠ¼, ëª¨ë°”ì¼ ì‚¬ì´ë“œë°” ë“±ì˜ ìŠ¤íƒ€ì¼) */
        #desktop-pin-toggle-btn { display: none; position: fixed; top: 15px; left: 10px; z-index: 105; background-color: var(--primary-color, #3155e2); color: white; border: none; width: 30px; height: 30px; font-size: 16px; line-height: 30px; text-align: center; cursor: pointer; border-radius: 5px; box-shadow: 0 1px 3px rgba(0,0,0,0.2); transition: left 0.3s cubic-bezier(0.25, 0.1, 0.25, 1); }
        #desktop-pin-toggle-btn.pinned-icon::before { content: "ğŸ“Œ"; }
        #desktop-pin-toggle-btn:not(.pinned-icon)::before { content: "â˜°"; }
        .page-navigation.pinned { width: var(--nav-expanded-width) !important; opacity: 1 !important; overflow: visible !important; background-color: var(--nav-bg-expanded) !important; box-shadow: 5px 0 15px rgba(0,0,0,0.1) !important; }
        .page-navigation.pinned .nav-header, .page-navigation.pinned .nav-scroll-wrapper { opacity: 1 !important; }
        body.desktop-nav-pinned #desktop-pin-toggle-btn { left: calc(var(--nav-expanded-width) - 25px); }
        @media (max-width: 768px) {
            .page-navigation { pointer-events: none !important; opacity: 0 !important; width: 0 !important; border: none !important; padding: 0 !important; margin: 0 !important;  overflow: hidden !important; transition: none !important; }
            #desktop-pin-toggle-btn { display: none !important; }
            #mobile-hamburger-btn { display: block; position: fixed; top: 15px; left: 15px; z-index: 1002; background-color: var(--primary-color, #3155e2); color: white; border: none; padding: 8px 12px; font-size: 20px; cursor: pointer; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
            #mobile-sidebar-container { position: fixed; top: 0; left: 0; width: 280px; height: 100vh; background-color: var(--nav-bg-expanded, #fff); z-index: 1001; transform: translateX(-100%); transition: transform 0.3s ease-in-out; overflow-y: auto; box-shadow: 2px 0 5px rgba(0,0,0,0.1); padding-top: 50px; }
            #mobile-sidebar-container.open { transform: translateX(0); }
            #mobile-sidebar-close-btn { position: absolute; top: 15px; right: 15px; font-size: 24px; background: none; border: none; color: var(--primary-color, #3155e2); cursor: pointer; }
            #mobile-sidebar-container .nav-header, #mobile-sidebar-container .nav-scroll-wrapper { opacity: 1 !important; width: 100% !important; }
            #mobile-sidebar-container .nav-header { padding-top: 10px; border-bottom: 1px solid var(--border-color, #eaeaea); }
            #mobile-sidebar-container .nav-scroll-wrapper { padding: 15px 0; }
            /* ëª¨ë°”ì¼ì—ì„œ í˜„ì¬ í˜ì´ì§€ ë§í¬ ìŠ¤íƒ€ì¼ (ê°•ì‚¬ì†Œê°œ í¬í•¨) */
            #mobile-sidebar-container .nav-section-item.current-page a,
            #mobile-sidebar-container .nav-instructor-profile-link-wrapper.current-page a {
                background-color: var(--nav-active-bg, #3155e2) !important;
                color: var(--nav-active-text, #fff) !important;
                font-weight: 600; border-radius: 4px;
            }
            /* ëª¨ë°”ì¼ ê°•ì‚¬ì†Œê°œ ë§í¬ ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
            #mobile-sidebar-container .nav-instructor-profile-link-wrapper a {
                display: block; text-decoration: none; color: #555; padding: 10px 35px; /* ì„¹ì…˜ ì•„ì´í…œê³¼ íŒ¨ë”© ë§ì¶¤ */
                font-size: 0.9rem; transition: background-color 0.2s ease, color 0.2s ease;
                border-bottom: 1px solid #eee; white-space: normal;
                overflow-wrap: break-word; word-break: keep-all;
            }
            #mobile-sidebar-container .nav-instructor-profile-link-wrapper a:hover {
                background-color: var(--secondary-color); color: var(--primary-color);
            }

            #mobile-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 1000; }
            #mobile-overlay.active { display: block; }
            .main-content-area { padding-top: 60px !important; padding-bottom: 80px !important; }
            #page-navigation-buttons { display: flex; position: fixed; bottom: 0; left: 0; width: 100%; padding: 10px 0px; background-color: rgba(250, 250, 250, 0.95); box-shadow: 0 -2px 8px rgba(0,0,0,0.1); z-index: 999; justify-content: space-between; align-items: center; backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }
            #page-navigation-buttons button { padding: 10px 15px; font-size: 0.9em; font-weight: 500; background-color: var(--primary-color, #3155e2); color: white; border: none; border-radius: 5px; cursor: pointer; transition: background-color 0.2s ease; min-width: 70px; text-align: center; flex-shrink: 0; margin: 0 10px; }
            #current-section-name-display { flex-grow: 1; text-align: center; font-size: 0.85em; color: var(--dark-text, #333); padding: 0 5px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
            #page-navigation-buttons button:hover:not(:disabled) { background-color: #2a49c7; }
            #page-navigation-buttons button:disabled { background-color: #ccc; color: #777; cursor: not-allowed; opacity: 0.7; }
        }
        @media (min-width: 769px) {
            #mobile-hamburger-btn, #mobile-sidebar-container, #mobile-overlay, #page-navigation-buttons { display: none !important; }
            .main-content-area { padding-top: 30px !important; padding-bottom: 30px !important; }
            #desktop-pin-toggle-btn { display: block; }
        }
        /* ë°ìŠ¤í¬íƒ‘ ê°•ì‚¬ì†Œê°œ ë§í¬ ìŠ¤íƒ€ì¼ */
        .page-navigation .nav-instructor-profile-link-wrapper {
            border-bottom: 1px solid var(--border-color); /* ëª¨ë“ˆ ê·¸ë£¹ê³¼ ìœ ì‚¬í•œ êµ¬ë¶„ì„  */
        }
        .page-navigation .nav-instructor-profile-link-wrapper a {
            display: block; text-decoration: none; color: #555; padding: 10px 15px; /* ë‹¤ë¥¸ ë§í¬ë“¤ê³¼ ìœ ì‚¬í•˜ê²Œ */
            font-size: 0.9rem; transition: background-color 0.2s ease, color 0.2s ease;
            white-space: normal; overflow-wrap: break-word; word-break: keep-all;
            background-color: var(--section-list-bg); /* nav-section-listì™€ ìœ ì‚¬í•œ ë°°ê²½ */
            padding-left: 35px; /* ë“¤ì—¬ì“°ê¸° */
        }
        .page-navigation .nav-instructor-profile-link-wrapper a:hover {
            background-color: var(--secondary-color); color: var(--primary-color);
        }
        .page-navigation .nav-instructor-profile-link-wrapper.current-page a {
            background-color: var(--nav-active-bg) !important;
            color: var(--nav-active-text) !important;
            font-weight: 600; border-radius: 4px;
        }
    </style>
</head>
<body>
    <nav class="page-navigation" id="pageNav">
        <div class="nav-header">ê°•ì˜ ëª©ì°¨</div> <!-- ì›ë³¸ spa_page.htmlì˜ ë„¤ë¹„ í—¤ë” -->
        <div class="nav-scroll-wrapper">
            <ul class="nav-curriculum-list">
                <!-- ì›ë³¸ spa_page.htmlì˜ ëª¨ë“ˆ ë¦¬ìŠ¤íŠ¸ (data-src ê²½ë¡œê°€ ì‹¤ì œ ì¡°ê° íŒŒì¼ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸) -->
                <li class="nav-module-group">
                    <div class="nav-module-title-wrapper" data-module-id="module1"><span class="nav-module-title">Module 1: ì™œ AIì¸ê°€? ë°˜ë³µ ì—…ë¬´ í•´ë°©ì˜ ì‹œì‘</span><span class="nav-toggle-icon">></span></div>
                    <ul class="nav-section-list">
                        <li class="nav-section-item"><a href="#" data-src="module1_section1.html">1. ì˜¤í”„ë‹: AIë¡œ ë‹¹ì‹ ì˜ ì—…ë¬´ ì‹œê°„ì„ ë˜ì°¾ìœ¼ì„¸ìš”!</a></li>
                        <li class="nav-section-item"><a href="#" data-src="module1_section2.html">2. ë‹¹ì‹ ì˜ í•˜ë£¨, í˜¹ì‹œ ì´ë ‡ì§€ ì•Šë‚˜ìš”? (ì—…ë¬´ Pain Points)</a></li>
                        <li class="nav-section-item"><a href="#" data-src="module1_section3.html">3. AI: ë‹¹ì‹ ì˜ ë˜‘ë˜‘í•œ ì—…ë¬´ ë¹„ì„œ (ìƒì„±í˜• AIë€?)</a></li>
                    </ul>
                </li>
                <li class="nav-module-group">
                    <div class="nav-module-title-wrapper" data-module-id="module2"><span class="nav-module-title">Module 2: AIì™€ ì œëŒ€ë¡œ ì†Œí†µí•˜ê¸° (ft. í•µì‹¬ ë„êµ¬)</span><span class="nav-toggle-icon">></span></div>
                    <ul class="nav-section-list">
                        <li class="nav-section-item"><a href="#" data-src="module2_section1.html">1. AIì˜ ëŠ¥ë ¥ì„ 100% ëŒì–´ë‚´ëŠ” 'í”„ë¡¬í”„íŠ¸' ì‘ì„±ë²•</a></li>
                        <li class="nav-section-item"><a href="#" data-src="module2_section2.html">2. AI íŠ¹ê³µëŒ€, ì§ì ‘ ë‹¤ë¤„ë³´ê¸° (ì£¼ìš” ë„êµ¬ ì‹œì—°)</a></li>
                        <li class="nav-section-item"><a href="#" data-src="module2_section3.html">3. NotebookLM & Gemini ì²«ê±¸ìŒ</a></li>
                    </ul>
                </li>
                <li class="nav-module-group">
                    <div class="nav-module-title-wrapper" data-module-id="module3"><span class="nav-module-title">Module 3: ì‹¤ì „! AIë¡œ ì—…ë¬´ íš¨ìœ¨ 2ë°° UP! (ì‹œì—° ì¤‘ì‹¬)</span><span class="nav-toggle-icon">></span></div>
                    <ul class="nav-section-list">
                         <li class="nav-section-item"><a href="#" data-src="module3_section1.html">1. ì •ë³´ ê²€ìƒ‰ & ìˆ˜ì§‘: AIë¡œ 10ë¶„ ë§Œì— ëë‚´ê¸°!</a></li>
                         <li class="nav-section-item"><a href="#" data-src="module3_section2.html">2. ë‚´ ì†ì•ˆì˜ ìë£Œ, AIë¡œ ì§€ì‹ ìì‚° ë§Œë“¤ê¸° (NotebookLM í™œìš©)</a></li>
                         <li class="nav-section-item"><a href="#" data-src="module3_section3.html">3. íšŒì˜ë¡ ì •ë¦¬: AIë¡œ 5ë¶„ ë§Œì— í•µì‹¬ë§Œ ì™!</a></li>
                         <li class="nav-section-item"><a href="#" data-src="module3_section4.html">4. ë³´ê³ ì„œÂ·ê¸°íšì„œ ì‘ì„±: AIë¡œ ì‹œê°„ ì ˆë°˜ìœ¼ë¡œ ì¤„ì´ê¸°!</a></li>
                    </ul>
                </li>
                <li class="nav-module-group">
                    <div class="nav-module-title-wrapper" data-module-id="module4"><span class="nav-module-title">Module 4: AI, ì•ˆì „í•˜ê³  ë˜‘ë˜‘í•˜ê²Œ í™œìš©í•˜ê¸°</span><span class="nav-toggle-icon">></span></div>
                    <ul class="nav-section-list">
                        <li class="nav-section-item"><a href="#" data-src="module4_section1.html">1. AI, ì•ˆì „í•˜ê²Œ ì¨ì•¼ ì§„ì§œ ì „ë¬¸ê°€! (í•µì‹¬ ì£¼ì˜ì‚¬í•­)</a></li>
                        <li class="nav-section-item"><a href="#" data-src="module4_section2.html">2. (ë§›ë³´ê¸°) AIë¡œ ë‚´ ì—…ë¬´ ìë™í™”í•˜ê¸° ì•„ì´ë””ì–´</a></li>
                        <li class="nav-section-item"><a href="#" data-src="module4_section3.html">3. ë§ˆë¬´ë¦¬: AI ì‹œëŒ€, ë‹¹ì‹ ì˜ ì—…ë¬´ëŠ” ì–´ë–»ê²Œ ë°”ë€”ê¹Œìš”?</a></li>
                    </ul>
                </li>
            </ul>
            <!-- ê°•ì‚¬ ì†Œê°œ ë§í¬ ì¶”ê°€ -->
            <div class="nav-instructor-profile-link-wrapper">
                <a href="#" data-src="instructor_profile.html">ê°•ì‚¬ ì†Œê°œ</a>
            </div>
            <div class="nav-mainpage-link-wrapper">
                <!-- ìˆ˜ì •: ë©”ì¸ ì»¤ë¦¬í˜ëŸ¼ ëª©ë¡(index.html)ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ë§í¬ -->
                <a href="index.html" class="nav-mainpage-link">ë©”ì¸ ì»¤ë¦¬í˜ëŸ¼ ëª©ë¡</a>
            </div>
        </div>
    </nav>

    <main class="main-content-area" id="mainContent">
        <article id="contentDisplay">
            <!-- ì´ˆê¸° ë©”ì‹œì§€ ë˜ëŠ” ì½˜í…ì¸ ê°€ ì—¬ê¸°ì— ë¡œë“œë©ë‹ˆë‹¤. -->
            <h1>í™˜ì˜í•©ë‹ˆë‹¤!</h1>
            <p>ì™¼ìª½ ë©”ë‰´ì—ì„œ í•™ìŠµí•  ë‚´ìš©ì„ ì„ íƒí•˜ê±°ë‚˜, URL í•´ì‹œë¥¼ í†µí•´ ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </article>
    </main>

    <script>
        // ==== ì œê³µí•´ì£¼ì‹  ì›ë³¸ spa_page.htmlì˜ JavaScriptë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìˆ˜ì • ====
        document.addEventListener('DOMContentLoaded', function () {
            const desktopNav = document.getElementById('pageNav');
            const desktopNavModuleTitles = desktopNav.querySelectorAll('.nav-module-title-wrapper');
            const desktopNavSectionLinks = desktopNav.querySelectorAll('.nav-section-item a');
            // ê°•ì‚¬ ì†Œê°œ ë§í¬ ìš”ì†Œ ì¶”ê°€
            const desktopInstructorProfileLinkWrapper = desktopNav.querySelector('.nav-instructor-profile-link-wrapper');
            const desktopInstructorProfileLink = desktopNav.querySelector('.nav-instructor-profile-link-wrapper a');

            const contentDisplay = document.getElementById('contentDisplay');
            const mainContentArea = document.getElementById('mainContent');
            const sectionListPadding = 8; // ì›ë³¸ ê°’ ìœ ì§€
            let currentActiveLinkElement = null;
            let currentScrollListener = null;
            let currentModuleStyleLink = null;
            let isMobile = window.innerWidth <= 768;
            let isDesktopNavPinned = false;

            // UI ìš”ì†Œ ìƒì„± (ì›ë³¸ì— ì´ë¯¸ ìˆë‹¤ë©´ í•´ë‹¹ ë¡œì§ ì‚¬ìš©, ì—†ë‹¤ë©´ ì•„ë˜ ì½”ë“œ ì‚¬ìš©)
            const desktopPinToggleBtn = document.getElementById('desktop-pin-toggle-btn') || document.createElement('button');
            if (!desktopPinToggleBtn.id) {
                desktopPinToggleBtn.id = 'desktop-pin-toggle-btn'; document.body.appendChild(desktopPinToggleBtn);
            }
            // ... (mobileHamburgerBtn, mobileSidebarContainer ë“± ë‚˜ë¨¸ì§€ UI ìš”ì†Œë“¤ë„ ìœ ì‚¬í•˜ê²Œ í™•ì¸ í›„ ìƒì„± ë˜ëŠ” ì°¸ì¡°) ...
            // ê°„ê²°í•˜ê²Œ í•˜ê¸° ìœ„í•´ ì´ì „ ë‹µë³€ì˜ UI ìš”ì†Œ ìƒì„± ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.
            if (!document.getElementById('desktop-pin-toggle-btn')) { // ì¤‘ë³µ ìƒì„± ë°©ì§€
                const btn = document.createElement('button'); btn.id = 'desktop-pin-toggle-btn'; document.body.appendChild(btn);
            }
            if (!document.getElementById('mobile-hamburger-btn')) {
                const btn = document.createElement('button'); btn.id = 'mobile-hamburger-btn'; btn.innerHTML = 'â˜°'; document.body.appendChild(btn);
            }
            if (!document.getElementById('mobile-sidebar-container')) {
                const container = document.createElement('div'); container.id = 'mobile-sidebar-container';
                const closeBtn = document.createElement('button'); closeBtn.id = 'mobile-sidebar-close-btn'; closeBtn.innerHTML = 'Ã—';
                container.appendChild(closeBtn); document.body.appendChild(container);
            }
            if (!document.getElementById('mobile-overlay')) {
                const overlay = document.createElement('div'); overlay.id = 'mobile-overlay'; document.body.appendChild(overlay);
            }
            if (!document.getElementById('page-navigation-buttons')) {
                const navButtons = document.createElement('div'); navButtons.id = 'page-navigation-buttons';
                const prevBtn = document.createElement('button'); prevBtn.id = 'prev-section-button'; prevBtn.textContent = 'ì´ì „';
                const nameDisplay = document.createElement('span'); nameDisplay.id = 'current-section-name-display';
                const nextBtn = document.createElement('button'); nextBtn.id = 'next-section-button'; nextBtn.textContent = 'ë‹¤ìŒ';
                navButtons.appendChild(prevBtn); navButtons.appendChild(nameDisplay); navButtons.appendChild(nextBtn);
                document.body.appendChild(navButtons);
            }
            // UI ìš”ì†Œ ë³€ìˆ˜ í• ë‹¹ (getElementByIdë¥¼ ë‹¤ì‹œ í˜¸ì¶œí•˜ì—¬ ë™ì ìœ¼ë¡œ ìƒì„±ëœ ìš”ì†Œë„ ì¡ë„ë¡ í•¨)
            const actualDesktopPinToggleBtn = document.getElementById('desktop-pin-toggle-btn');
            const actualMobileHamburgerBtn = document.getElementById('mobile-hamburger-btn');
            const actualMobileSidebarContainer = document.getElementById('mobile-sidebar-container');
            const actualMobileSidebarCloseBtn = document.getElementById('mobile-sidebar-close-btn');
            const actualMobileOverlay = document.getElementById('mobile-overlay');
            const actualPageNavButtonsContainer = document.getElementById('page-navigation-buttons');
            const actualPrevSectionBtn = document.getElementById('prev-section-button');
            const actualCurrentSectionNameDisplay = document.getElementById('current-section-name-display');
            const actualNextSectionBtn = document.getElementById('next-section-button');


            function initializeMobileSidebar() { // ì›ë³¸ í•¨ìˆ˜ ìœ ì§€
                const desktopNavHeader = desktopNav.querySelector('.nav-header');
                const desktopNavScrollWrapper = desktopNav.querySelector('.nav-scroll-wrapper');
                if (desktopNavHeader) actualMobileSidebarContainer.appendChild(desktopNavHeader.cloneNode(true));
                if (desktopNavScrollWrapper) actualMobileSidebarContainer.appendChild(desktopNavScrollWrapper.cloneNode(true));
                setupMobileSidebarInteractions();
            }

            function setupMobileSidebarInteractions() { // ê°•ì‚¬ì†Œê°œ ë§í¬ ì´ë²¤íŠ¸ ì¶”ê°€
                const mobileNavModuleTitles = actualMobileSidebarContainer.querySelectorAll('.nav-module-title-wrapper');
                const mobileNavSectionLinks = actualMobileSidebarContainer.querySelectorAll('.nav-section-item a');
                const mobileInstructorProfileLink = actualMobileSidebarContainer.querySelector('.nav-instructor-profile-link-wrapper a');

                mobileNavModuleTitles.forEach(titleWrapper => { /* ... ì›ë³¸ ì•„ì½”ë””ì–¸ ë¡œì§ ... */
                    titleWrapper.addEventListener('click', function () {
                        const isActive = this.classList.contains('active'); const sectionList = this.nextElementSibling;
                        if (!isActive) { mobileNavModuleTitles.forEach(otherHeader => { if (otherHeader !== this && otherHeader.classList.contains('active')) { otherHeader.classList.remove('active'); const otherList = otherHeader.nextElementSibling; if (otherList && otherList.classList.contains('nav-section-list')) { otherList.style.maxHeight = null; otherList.style.paddingTop = "0px"; otherList.style.paddingBottom = "0px"; } } }); }
                        this.classList.toggle('active');
                        if (sectionList && sectionList.classList.contains('nav-section-list')) { if (this.classList.contains('active')) { sectionList.style.paddingTop = sectionListPadding + "px"; sectionList.style.paddingBottom = sectionListPadding + "px"; sectionList.style.maxHeight = (sectionList.scrollHeight + sectionListPadding * 2) + "px"; } else { sectionList.style.maxHeight = null; sectionList.style.paddingTop = "0px"; sectionList.style.paddingBottom = "0px"; } }
                    });
                });
                mobileNavSectionLinks.forEach(link => { /* ... ì›ë³¸ ì„¹ì…˜ ë§í¬ ë¡œì§ ... */
                    link.addEventListener('click', function (event) {
                        event.preventDefault(); const filePath = this.dataset.src;
                        const originalLink = Array.from(desktopNavSectionLinks).find(dLink => dLink.dataset.src === filePath);
                        if (originalLink) { loadAndDisplayContent(filePath, originalLink, false); }
                        toggleMobileSidebar(false);
                    });
                });
                if (mobileInstructorProfileLink) {
                    mobileInstructorProfileLink.addEventListener('click', function(event) {
                        event.preventDefault();
                        loadAndDisplayContent(this.dataset.src, desktopInstructorProfileLink, true);
                        toggleMobileSidebar(false);
                    });
                }
            }

            function updateUIBasedOnMode() { // ì›ë³¸ í•¨ìˆ˜ ìœ ì§€
                isMobile = window.innerWidth <= 768;
                if (isMobile) {
                    actualDesktopPinToggleBtn.style.display = 'none'; actualMobileHamburgerBtn.style.display = 'block'; actualPageNavButtonsContainer.style.display = 'flex';
                    if (desktopNav.classList.contains('pinned')) { desktopNav.classList.remove('pinned'); document.body.classList.remove('desktop-nav-pinned'); isDesktopNavPinned = false; }
                } else {
                    actualDesktopPinToggleBtn.style.display = 'block'; actualMobileHamburgerBtn.style.display = 'none'; actualMobileSidebarContainer.classList.remove('open'); actualMobileOverlay.classList.remove('active'); actualPageNavButtonsContainer.style.display = 'none';
                    if (isDesktopNavPinned) { desktopNav.classList.add('pinned'); actualDesktopPinToggleBtn.classList.add('pinned-icon'); actualDesktopPinToggleBtn.setAttribute('aria-label', 'ë„¤ë¹„ê²Œì´ì…˜ ê³ ì • í•´ì œ'); document.body.classList.add('desktop-nav-pinned'); }
                    else { desktopNav.classList.remove('pinned'); actualDesktopPinToggleBtn.classList.remove('pinned-icon'); actualDesktopPinToggleBtn.setAttribute('aria-label', 'ë„¤ë¹„ê²Œì´ì…˜ ê³ ì •'); document.body.classList.remove('desktop-nav-pinned'); }
                }
                updatePageNavigationButtonsState();
            }

            function toggleMobileSidebar(show) { /* ì›ë³¸ í•¨ìˆ˜ ìœ ì§€ */
                if (show) { actualMobileSidebarContainer.classList.add('open'); actualMobileOverlay.classList.add('active'); }
                else { actualMobileSidebarContainer.classList.remove('open'); actualMobileOverlay.classList.remove('active'); }
            }
            actualMobileHamburgerBtn.addEventListener('click', () => toggleMobileSidebar(true));
            actualMobileOverlay.addEventListener('click', () => toggleMobileSidebar(false));
            actualMobileSidebarCloseBtn.addEventListener('click', () => toggleMobileSidebar(false));
            actualDesktopPinToggleBtn.addEventListener('click', function() { /* ì›ë³¸ í•¨ìˆ˜ ìœ ì§€ */
                if (isMobile) return; isDesktopNavPinned = !isDesktopNavPinned; updateUIBasedOnMode();
            });
            desktopNavModuleTitles.forEach(titleWrapper => { /* ì›ë³¸ ë°ìŠ¤í¬íƒ‘ ì•„ì½”ë””ì–¸ ë¡œì§ ìœ ì§€ */
                 titleWrapper.addEventListener('click', function () {
                    if (isMobile) return; const isActive = this.classList.contains('active'); const sectionList = this.nextElementSibling;
                    if (!isActive) { desktopNavModuleTitles.forEach(otherHeader => { if (otherHeader !== this && otherHeader.classList.contains('active')) { otherHeader.classList.remove('active'); const otherList = otherHeader.nextElementSibling; if (otherList && otherList.classList.contains('nav-section-list')) { otherList.style.maxHeight = null; otherList.style.paddingTop = "0px"; otherList.style.paddingBottom = "0px"; } } }); }
                    this.classList.toggle('active');
                    if (sectionList && sectionList.classList.contains('nav-section-list')) { if (this.classList.contains('active')) { sectionList.style.paddingTop = sectionListPadding + "px"; sectionList.style.paddingBottom = sectionListPadding + "px"; sectionList.style.maxHeight = (sectionList.scrollHeight + sectionListPadding * 2) + "px"; } else { sectionList.style.maxHeight = null; sectionList.style.paddingTop = "0px"; sectionList.style.paddingBottom = "0px"; } }
                });
            });

            desktopNavSectionLinks.forEach(link => { /* ì›ë³¸ ë°ìŠ¤í¬íƒ‘ ì„¹ì…˜ ë§í¬ ë¡œì§ ìœ ì§€ */
                 link.addEventListener('click', function (event) {
                    event.preventDefault(); if (isMobile && event.target.closest('#pageNav')) return;
                    loadAndDisplayContent(this.dataset.src, this, false);
                });
            });
            if (desktopInstructorProfileLink) { // ê°•ì‚¬ì†Œê°œ ë§í¬ ì´ë²¤íŠ¸ ì¶”ê°€
                desktopInstructorProfileLink.addEventListener('click', function(event){
                    event.preventDefault(); if (isMobile && event.target.closest('#pageNav')) return;
                    loadAndDisplayContent(this.dataset.src, this, true);
                });
            }

            async function loadAndDisplayContent(filePath, linkElementToHighlight, isProfilePage = false) {
                // --- ì´ í•¨ìˆ˜ëŠ” ì´ì „ SPA ìµœì¢… ì½”ë“œì˜ ë¡œì§ê³¼ ê±°ì˜ ë™ì¼í•˜ê²Œ ì‚¬ìš© ---
                if (currentActiveLinkElement) {
                    if(currentActiveLinkElement.parentElement.classList.contains('nav-section-item') || currentActiveLinkElement.parentElement.classList.contains('nav-instructor-profile-link-wrapper')) {
                        currentActiveLinkElement.parentElement.classList.remove('current-page');
                    }
                }
                desktopNavSectionLinks.forEach(l => l.parentElement.classList.remove('current-page'));
                if (desktopInstructorProfileLinkWrapper) desktopInstructorProfileLinkWrapper.classList.remove('current-page');

                linkElementToHighlight.parentElement.classList.add('current-page');
                currentActiveLinkElement = linkElementToHighlight;

                if (isMobile && actualCurrentSectionNameDisplay) {
                    let sectionName = linkElementToHighlight.textContent || "";
                    if (!isProfilePage) { const dotIndex = sectionName.indexOf('.'); if (dotIndex !== -1 && sectionName.length > dotIndex + 1) sectionName = sectionName.substring(dotIndex + 1).trim(); }
                    actualCurrentSectionNameDisplay.textContent = sectionName;
                }

                const newHash = filePath.split('.')[0];
                if(window.location.hash.substring(1) !== newHash) history.pushState({ path: `#${newHash}` }, '', `#${newHash}`);

                contentDisplay.classList.remove('loaded'); contentDisplay.style.opacity = '0';
                contentDisplay.innerHTML = '<p style="text-align:center; padding: 20px;">ë¡œë”© ì¤‘...</p>';
                contentDisplay.dataset.loadedFile = filePath;

                if (currentModuleStyleLink) currentModuleStyleLink.remove(); currentModuleStyleLink = null;
                let styleHref = '';
                if (isProfilePage) { styleHref = 'css/instructor_profile_styles.css'; }
                else { const moduleMatch = filePath.match(/module(\d+)_section(\w+)\.html/); if (moduleMatch && moduleMatch[1]) styleHref = `css/module${moduleMatch[1]}_section${moduleMatch[2]}_styles.css`; }
                if (styleHref) { const newStyleLink = document.createElement('link'); newStyleLink.rel = 'stylesheet'; newStyleLink.type = 'text/css'; newStyleLink.href = styleHref; document.head.appendChild(newStyleLink); currentModuleStyleLink = newStyleLink; }

                if (currentScrollListener) mainContentArea.removeEventListener('scroll', currentScrollListener); currentScrollListener = null;
                try {
                    const response = await fetch(filePath); if (!response.ok) throw new Error(`HTTP error! status: ${response.status} for ${filePath}`);
                    contentDisplay.innerHTML = await response.text();
                    if (!isProfilePage) { const loadedSlideContainer = contentDisplay.querySelector('.slide-container'); if (loadedSlideContainer) { currentScrollListener = initializeSlidesForCurrentPage(loadedSlideContainer, mainContentArea); if (currentScrollListener) { mainContentArea.addEventListener('scroll', currentScrollListener); currentScrollListener(); } } }
                } catch (error) { console.error('Error loading content:', error); contentDisplay.innerHTML = `<div style="padding:20px; text-align:center; color:red;"><h2>ì˜¤ë¥˜ ë°œìƒ</h2><p>ì½˜í…ì¸ ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p><p>${error.message}</p><p>íŒŒì¼ ê²½ë¡œ(${filePath})ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.</p></div>`;
                } finally {
                    setTimeout(() => { contentDisplay.style.opacity = '1'; contentDisplay.classList.add('loaded'); }, 50);
                    mainContentArea.scrollTop = 0; updatePageNavigationButtonsState();
                    if (isMobile) {
                        const mobileLinks = actualMobileSidebarContainer.querySelectorAll('.nav-section-item a');
                        const mobileProfileLinkWrapper = actualMobileSidebarContainer.querySelector('.nav-instructor-profile-link-wrapper');
                        mobileLinks.forEach(ml => ml.parentElement.classList.remove('current-page'));
                        if (mobileProfileLinkWrapper) mobileProfileLinkWrapper.classList.remove('current-page');
                        if (isProfilePage) { if (mobileProfileLinkWrapper) mobileProfileLinkWrapper.classList.add('current-page'); }
                        else { const activeMobileLink = Array.from(mobileLinks).find(ml => ml.dataset.src === filePath); if (activeMobileLink) activeMobileLink.parentElement.classList.add('current-page'); }
                    }
                }
            }

            function initializeSlidesForCurrentPage(container, scroller) { /* ì›ë³¸ ìŠ¬ë¼ì´ë“œ ì´ˆê¸°í™” ë¡œì§ */
                const slides = container.querySelectorAll('.slide'); if (slides.length === 0) return null; slides.forEach(slide => slide.classList.remove('active'));
                const checkSlidesInView = function() { slides.forEach(slide => { const slideRect = slide.getBoundingClientRect(), scrollerRect = scroller.getBoundingClientRect(); const slideTopInScroller = slideRect.top - scrollerRect.top, scrollerHeight = scroller.clientHeight; if (slideTopInScroller < scrollerHeight * 0.85 && (slideTopInScroller + slide.offsetHeight) > scrollerHeight * 0.15) slide.classList.add('active'); }); }; return checkSlidesInView;
            }

            function activateParentModuleOfLink(linkElement) { /* ê°•ì‚¬ì†Œê°œ ì‹œ ëª¨ë“ˆ ë‹«ê¸° ì¶”ê°€ */
                 if (linkElement.dataset.src === 'instructor_profile.html') {
                    desktopNavModuleTitles.forEach(header => { if (header.classList.contains('active')) { header.classList.remove('active'); const sectionList = header.nextElementSibling; if (sectionList) { sectionList.style.maxHeight = null; sectionList.style.paddingTop = "0px"; sectionList.style.paddingBottom = "0px"; } } });
                    if (isMobile) { const mobileNavModuleTitles = actualMobileSidebarContainer.querySelectorAll('.nav-module-title-wrapper'); mobileNavModuleTitles.forEach(header => { if (header.classList.contains('active')) { header.classList.remove('active'); const sectionList = header.nextElementSibling; if (sectionList) { sectionList.style.maxHeight = null; sectionList.style.paddingTop = "0px"; sectionList.style.paddingBottom = "0px"; } } }); } return;
                }
                const parentModuleGroup = linkElement.closest('.nav-module-group'); if (!parentModuleGroup) return; const parentModuleTitleWrapperDesktop = parentModuleGroup.querySelector('.nav-module-title-wrapper'); if (!parentModuleTitleWrapperDesktop) return; const moduleId = parentModuleTitleWrapperDesktop.dataset.moduleId;
                if (!isMobile && !parentModuleTitleWrapperDesktop.classList.contains('active')) { desktopNavModuleTitles.forEach(otherHeader => { if (otherHeader !== parentModuleTitleWrapperDesktop && otherHeader.classList.contains('active')) { otherHeader.classList.remove('active'); const otherList = otherHeader.nextElementSibling; if (otherList) { otherList.style.maxHeight = null; otherList.style.paddingTop = "0px"; otherList.style.paddingBottom = "0px"; } } }); parentModuleTitleWrapperDesktop.classList.add('active'); const sectionListToOpenDesktop = parentModuleTitleWrapperDesktop.nextElementSibling; if (sectionListToOpenDesktop) { sectionListToOpenDesktop.style.paddingTop = sectionListPadding + "px"; sectionListToOpenDesktop.style.paddingBottom = sectionListPadding + "px"; sectionListToOpenDesktop.style.maxHeight = (sectionListToOpenDesktop.scrollHeight + sectionListPadding * 2) + "px"; } }
                if (isMobile) { const mobileNavModuleTitles = actualMobileSidebarContainer.querySelectorAll('.nav-module-title-wrapper'); const parentModuleTitleMobile = Array.from(mobileNavModuleTitles).find(mTitle => mTitle.dataset.moduleId === moduleId); if (parentModuleTitleMobile && !parentModuleTitleMobile.classList.contains('active')) { mobileNavModuleTitles.forEach(otherHeader => { if (otherHeader !== parentModuleTitleMobile && otherHeader.classList.contains('active')) { otherHeader.classList.remove('active'); const otherList = otherHeader.nextElementSibling; if (otherList) { otherList.style.maxHeight = null; otherList.style.paddingTop = "0px"; otherList.style.paddingBottom = "0px"; } } }); parentModuleTitleMobile.classList.add('active'); const sectionListToOpenMobile = parentModuleTitleMobile.nextElementSibling; if (sectionListToOpenMobile) { sectionListToOpenMobile.style.paddingTop = sectionListPadding + "px"; sectionListToOpenMobile.style.paddingBottom = sectionListPadding + "px"; sectionListToOpenMobile.style.maxHeight = (sectionListToOpenMobile.scrollHeight + sectionListPadding * 2) + "px"; } } }
            }

            function loadContentFromHash() { // ê°•ì‚¬ì†Œê°œ í•´ì‹œ ì²˜ë¦¬ ì¶”ê°€
                let hash = window.location.hash.substring(1);
                if (!hash) { // í•´ì‹œê°€ ì—†ìœ¼ë©´ ì²« ë²ˆì§¸ ê°•ì˜ ë¡œë“œ (index.htmlì—ì„œ ë„˜ì–´ì˜¬ ë•Œ í•´ì‹œê°€ ìˆìœ¼ë¯€ë¡œ, spa_page.html ì§ì ‘ ì ‘ê·¼ ì‹œ)
                     const firstLectureLink = desktopNav.querySelector('.nav-section-item a[data-src^="module1_section1"]');
                     if (firstLectureLink) hash = firstLectureLink.dataset.src.split('.')[0];
                     else { contentDisplay.innerHTML = '<h1>í‘œì‹œí•  ê¸°ë³¸ ì½˜í…ì¸ ê°€ ì—†ìŠµë‹ˆë‹¤.</h1>'; contentDisplay.classList.add('loaded'); return; }
                }
                let targetLink; let isProfile = false;
                if (hash === 'instructor_profile') { targetLink = desktopInstructorProfileLink; isProfile = true; }
                else { targetLink = Array.from(desktopNavSectionLinks).find(link => link.dataset.src.split('.')[0] === hash); }
                if (targetLink) { loadAndDisplayContent(targetLink.dataset.src, targetLink, isProfile); activateParentModuleOfLink(targetLink); }
                else { const firstValidLink = desktopNav.querySelector('.nav-section-item a[data-src]'); if (firstValidLink) { loadAndDisplayContent(firstValidLink.dataset.src, firstValidLink, false); activateParentModuleOfLink(firstValidLink); } else { contentDisplay.innerHTML = '<h1>ìš”ì²­ ë‚´ìš©ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</h1>'; contentDisplay.classList.add('loaded');} }
            }

            function updatePageNavigationButtonsState() { /* ê°•ì‚¬ì†Œê°œ ì‹œ ë²„íŠ¼ ë¹„í™œì„±í™” ì¶”ê°€ */
                if (!currentActiveLinkElement || currentActiveLinkElement.dataset.src === 'instructor_profile.html') { actualPrevSectionBtn.disabled = true; actualNextSectionBtn.disabled = true; return; }
                const allDesktopLinksArray = Array.from(desktopNavSectionLinks); const currentIndex = allDesktopLinksArray.findIndex(link => link === currentActiveLinkElement);
                actualPrevSectionBtn.disabled = !(currentIndex > 0);
                actualPrevSectionBtn.onclick = (currentIndex > 0) ? () => { const prevLink = allDesktopLinksArray[currentIndex - 1]; loadAndDisplayContent(prevLink.dataset.src, prevLink, false); activateParentModuleOfLink(prevLink); } : null;
                actualNextSectionBtn.disabled = !(currentIndex >= 0 && currentIndex < allDesktopLinksArray.length - 1);
                actualNextSectionBtn.onclick = (currentIndex >= 0 && currentIndex < allDesktopLinksArray.length - 1) ? () => { const nextLink = allDesktopLinksArray[currentIndex + 1]; loadAndDisplayContent(nextLink.dataset.src, nextLink, false); activateParentModuleOfLink(nextLink); } : null;
            }

            // ê°•ì‚¬ì†Œê°œ í˜ì´ì§€ì—ì„œ 'ì»¤ë¦¬í˜ëŸ¼ìœ¼ë¡œ ëŒì•„ê°€ê¸°' ë²„íŠ¼ í´ë¦­ ì‹œ ì²« ê°•ì˜ë¡œ ì´ë™
            window.goBackToFirstLecture = function() {
                const firstLectureLink = desktopNavSectionLinks[0];
                if (firstLectureLink) { window.location.hash = firstLectureLink.dataset.src.split('.')[0]; }
                else { window.location.hash = ''; } // ê¸°ë³¸ í•´ì‹œë¡œ (ì²« ê°•ì˜ê°€ ì—†ë‹¤ë©´)
            }

            // --- ì´ˆê¸°í™” ì‹¤í–‰ ---
            initializeMobileSidebar();
            updateUIBasedOnMode();
            window.addEventListener('resize', updateUIBasedOnMode);
            loadContentFromHash(); // í˜ì´ì§€ ë¡œë“œ ì‹œ URL í•´ì‹œ í™•ì¸í•˜ì—¬ ì½˜í…ì¸  ë¡œë“œ
            window.addEventListener('hashchange', loadContentFromHash);
            window.addEventListener('popstate', loadContentFromHash); // ë¸Œë¼ìš°ì € ë’¤ë¡œ/ì•ìœ¼ë¡œ ê°€ê¸°
        });
    </script>
</body>
</html>
